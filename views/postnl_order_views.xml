<odoo>
  <data>
    <record id="view_postnl_order_list" model="ir.ui.view">
      <field name="name">postnl.order.list</field>
      <field name="model">postnl.order</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>
          <field name="sale_id"/>
          <field name="partner_id"/>
          <field name="country_id"/>
          <field name="weight_total"/>
          <field name="shipping_code"/>
          <field name="state"/>
          <field name="tracking_number"/>
          <field name="last_sync_at"/>
        </list>
      </field>
    </record>

    <record id="view_postnl_order_form" model="ir.ui.view">
      <field name="name">postnl.order.form</field>
      <field name="model">postnl.order</field>
      <field name="arch" type="xml">
        <form string="PostNL Order">
          <header>
            <button name="action_queue_export" type="object" string="Queue Export" class="btn-primary" invisible="state not in ['draft', 'error']"/>
            <button name="action_mark_exported" type="object" string="Mark Exported" invisible="state != 'queued'"/>
            <button name="action_mark_shipped" type="object" string="Mark Shipped" invisible="state != 'exported'"/>
            <button name="action_open_tnt" type="object" string="Open T&amp;T" invisible="not tracking_number"/>
            <field name="state" widget="statusbar"/>
          </header>
          <sheet>
            <group>
              <group>
                <field name="name"/>
                <field name="sale_id"/>
                <field name="partner_id" readonly="1"/>
                <field name="country_id" readonly="1"/>
                <field name="weight_total" readonly="1"/>
              </group>
              <group>
                <field name="shipping_rule_id"/>
                <field name="shipping_code"/>
                <field name="tracking_number"/>
                <field name="tnt_url" readonly="1"/>
                <field name="last_sync_at" readonly="1"/>
              </group>
            </group>
            <divider/>
            <group>
              <div class="o_form_label">Diagnostics</div>
              <field name="last_error_text" readonly="1"/>
            </group>
          </sheet>
          <chatter/>
        </form>
      </field>
    </record>

    <record id="view_postnl_order_search" model="ir.ui.view">
      <field name="name">postnl.order.search</field>
      <field name="model">postnl.order</field>
      <field name="arch" type="xml">
        <search>
          <field name="name"/>
          <field name="sale_id"/>
          <field name="partner_id"/>
          <filter string="Draft" name="draft" domain="[('state','=','draft')]"/>
          <filter string="Queued" name="queued" domain="[('state','=','queued')]"/>
          <filter string="Exported" name="exported" domain="[('state','=','exported')]"/>
          <filter string="Shipped" name="shipped" domain="[('state','=','shipped')]"/>
          <filter string="Error" name="error" domain="[('state','=','error')]"/>
          <group expand="0" string="Group By">
            <filter string="State" name="grp_state" context="{'group_by':'state'}"/>
            <filter string="Country" name="grp_country" context="{'group_by':'country_id'}"/>
          </group>
        </search>
      </field>
    </record>
  </data>
</odoo>